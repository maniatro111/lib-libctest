From cefa9a8a475c929989849ab0f9cab8b0831360a6 Mon Sep 17 00:00:00 2001
From: Florin Postolache <florin.postolache80@gmail.com>
Date: Sun, 7 Aug 2022 16:57:59 +0300
Subject: [PATCH] Modify clock_gettime source to work with uktest

Signed-off-by: Florin Postolache <florin.postolache80@gmail.com>
---
 src/functional/clock_gettime.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/src/functional/clock_gettime.c b/src/functional/clock_gettime.c
index 7951b11..d9b5ac2 100644
--- a/src/functional/clock_gettime.c
+++ b/src/functional/clock_gettime.c
@@ -1,14 +1,14 @@
 #include <time.h>
 #include <errno.h>
 #include <string.h>
-#include "test.h"
+#include <uk/test.h>//#include "test.h"
 
-#define TEST(c, ...) \
-	( (c) || (t_error(#c " failed: " __VA_ARGS__),0) )
+#define TEST(c, ...) UK_TEST_ASSERT((c))//\
+//	( (c) || (t_error(#c " failed: " __VA_ARGS__),0) )
 
-int main()
+UK_TESTCASE(uk_libc_testsuite, clock_gettime_tests)//int main()
 {
 	struct timespec ts;
 	TEST(clock_gettime(CLOCK_REALTIME, &ts) == 0 && errno == 0, "%s\n", strerror(errno));
-	return t_status;
+//	return t_status;
 }
-- 
2.25.1

